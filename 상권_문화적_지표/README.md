# 상권 문화적 지표

**상권별 SNS 리뷰 수 및 사진 포스팅 수가 상권의 매출에 어떠한 영향을 미치는 가(요식업계를 기준으로)**

## 1. 전처리

데이터를 얻기 위해 네이버 맵에서 각 점포별 리뷰/ 사진의 수/ 점주의 리뷰를 crawling 하였습니다.  
Qgis를 통해 상점의 중심점을 구하고 서울시 우리마을가게 상권분석서비스(상권영역)에서 상점 좌표를 활용해 둘 사이의 최근접 허브를 계산하여 각 상점별로 가장 근접한 상권을 산출하였습니다.  
전처리 중에 상점의 경계가 상권 코드 경계선을 초과하는 상점들은 유클리드 거리 기반으로 가장 가까운 상점 코드를 지정하였습니다.  
전처리는 상권코드를 기준으로 groupby를 하여 집계를 하는 방식을 주로 사용하였습니다.

- **리뷰 관련 변수**: 리뷰 수/ 평균 별점/ 사장님 댓글 비율/ 맛있다 비율/ 친절 비율/ 분위기 비율/ 싸다 비율/ 비싸다 비율
- **음식 SNS 관련 변수 (F)**: 유저 언급량/ 버즈 언급량/ 관람 환경 매력도/ 먹거리 매력도/ 맛 매력도/ 취향도 매력도/ 입소문 매력도/ 포토제닉 매력도/ 제품 단가
- **디저트 SNS 관련 변수 (D)**: 유저 언급량/ 버즈 언급량/ 관람 환경 매력도/ 먹거리 매력도/ 맛 매력도/ 취향도 매력도/ 입소문 매력도/ 포토제닉 매력도/ 제품 단가

## 2. 지수화

상관분석을 하여 높은 상관관계를 가지는 여러 변수들을 PCA를 통하여 변수의 갯수를 줄였습니다.  

- **맛_매력도_pca**: D_맛_매력도, F_맛_매력도
- **SNS_언급량_pca**: F_유저_언급량, F_버즈_언급량, F_관람환경_매력도, F_먹거리_매력도, F_취향_매력도,  
D_유저_언급량, D_버즈_언급량, D_관람환경_매력도, D_먹거리_매력도, D_취향_매력도
- **입소문_포토제닉_pca**: F_입소문_매력도, F_포토제닉_매력도, D_입소문_매력도, D_포토제닉_매력도

### 변수간 영향력 
![image](https://user-images.githubusercontent.com/70187490/147472389-7cf3a56c-7b41-4def-9350-53afacc14756.png)

위의 변수들을 다음과 같은 과정을 거쳐 지수화 시켰습니다.  
![image](https://user-images.githubusercontent.com/70187490/147397769-d42fbd4d-521b-44a4-bea4-b0661c255b98.png)

### 데이터 출처:
1. 가게정보_서울시.csv: 자체 crawling(네이버 맵)
2. 리뷰정보_서울시.csv: 자체 crawling(네이버 맵)
3. 서울시_상점좌표.geojson: 자체 전처리(Qgis를 통하여)
4. 상점_인근_상권.geojson: 자체 전처리(Qgis를 통하여)
5. 상권_geometry_좌표(골목).geojson: 자체 전처리(Qgis를 통하여)
6. 서울시 우리마을가게 상권분석서비스(상권영역).csv: 우리마을가게 상권분석서비스
7. Seoul_Food_Go_out_Index.csv: 서울시민 라이브 타입별 sns 언급량(서울시 빅데이터 캠퍼스)
8. Seoul_Dessert_Go_out_Index.csv: 서울시민 라이브 타입별 sns 언급량(서울시 빅데이터 캠퍼스)
9. df_base.csv: 우리마을가게 상권분석서비스의 x, y좌표를 기준으로 QGIS로 전처리함
